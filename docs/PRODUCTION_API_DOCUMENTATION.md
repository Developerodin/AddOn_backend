# Production Management System API Documentation

## Table of Contents
1. [Overview](#overview)
2. [Authentication](#authentication)
3. [Base URL](#base-url)
4. [Order Management APIs](#order-management-apis)
5. [Floor Operations APIs](#floor-operations-apis)
6. [Quality Control APIs](#quality-control-apis)
7. [Reports & Analytics APIs](#reports--analytics-apis)
8. [Logging & Audit APIs](#logging--audit-apis)
9. [Bulk Operations APIs](#bulk-operations-apis)
10. [Error Handling](#error-handling)
11. [Data Models](#data-models)

## Overview

The Production Management System provides comprehensive APIs for managing production orders, floor operations, quality control, and reporting. The system manages 8 sequential production floors: Knitting → Linking → Checking → Washing → Boarding → Branding → Final Checking → Warehouse.

## Authentication

All APIs require authentication. Include the JWT token in the Authorization header:

```http
Authorization: Bearer <your-jwt-token>
```

## Base URL

```
http://localhost:3000/api/v1/production
```

---

## Order Management APIs

### 1. Create Production Order

**Endpoint:** `POST /orders`

**Description:** Create a new production order with articles.

**Request Body:**
```json
{
  "priority": "High",
  "articles": [
    {
      "articleNumber": "A001",
      "plannedQuantity": 100,
      "linkingType": "Auto Linking",
      "priority": "High"
    }
  ],
  "orderNote": "Urgent order for customer",
  "customerId": "64a1b2c3d4e5f6789012345",
  "customerName": "ABC Company",
  "customerOrderNumber": "CO-2024-001",
  "plannedStartDate": "2024-01-15",
  "plannedEndDate": "2024-01-25"
}
```

**Note:** `orderNumber` is automatically generated by the system in format `ORD-XXXXXX` and should not be provided in the request.

**Response (201 Created):**
```json
{
  "success": true,
  "data": {
    "id": "64a1b2c3d4e5f6789012346",
    "orderNumber": "ORD-000001",
    "priority": "High",
    "status": "Pending",
    "currentFloor": "Knitting",
    "articles": [
      {
        "id": "64a1b2c3d4e5f6789012347",
        "articleNumber": "A001",
        "plannedQuantity": 100,
        "completedQuantity": 0,
        "linkingType": "Auto Linking",
        "priority": "High",
        "status": "Pending",
        "currentFloor": "Knitting"
      }
    ],
    "createdAt": "2024-01-15T10:00:00.000Z",
    "updatedAt": "2024-01-15T10:00:00.000Z"
  }
}
```

### 2. Get All Production Orders

**Endpoint:** `GET /orders`

**Description:** Retrieve all production orders with filtering and pagination.

**Query Parameters:**
- `page` (number): Page number (default: 1)
- `limit` (number): Items per page (default: 10)
- `status` (string): Filter by status (Pending, In Progress, Completed, On Hold, Cancelled)
- `priority` (string): Filter by priority (Urgent, High, Medium, Low)
- `currentFloor` (string): Filter by current floor
- `customerId` (string): Filter by customer ID
- `search` (string): Search in order number, customer name
- `sortBy` (string): Sort field (createdAt, updatedAt, orderNumber)
- `populate` (string): Populate related fields

**Example Request:**
```http
GET /orders?page=1&limit=10&status=In Progress&priority=High&sortBy=createdAt
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "results": [
      {
        "id": "64a1b2c3d4e5f6789012346",
        "orderNumber": "PO-2024-001",
        "priority": "High",
        "status": "In Progress",
        "currentFloor": "Knitting",
        "customerName": "ABC Company",
        "createdAt": "2024-01-15T10:00:00.000Z"
      }
    ],
    "page": 1,
    "limit": 10,
    "totalPages": 5,
    "totalResults": 50
  }
}
```

### 3. Get Single Production Order

**Endpoint:** `GET /orders/:orderId`

**Description:** Retrieve a specific production order by ID.

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "id": "64a1b2c3d4e5f6789012346",
    "orderNumber": "PO-2024-001",
    "priority": "High",
    "status": "In Progress",
    "currentFloor": "Knitting",
    "articles": [...],
    "orderNote": "Urgent order for customer",
    "customerId": "64a1b2c3d4e5f6789012345",
    "customerName": "ABC Company",
    "createdAt": "2024-01-15T10:00:00.000Z",
    "updatedAt": "2024-01-15T10:00:00.000Z"
  }
}
```

### 4. Update Production Order

**Endpoint:** `PATCH /orders/:orderId`

**Description:** Update an existing production order.

**Request Body:**
```json
{
  "priority": "Urgent",
  "orderNote": "Updated priority order",
  "plannedEndDate": "2024-01-20"
}
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "id": "64a1b2c3d4e5f6789012346",
    "orderNumber": "PO-2024-001",
    "priority": "Urgent",
    "status": "In Progress",
    "orderNote": "Updated priority order",
    "updatedAt": "2024-01-15T11:00:00.000Z"
  }
}
```

### 5. Delete Production Order

**Endpoint:** `DELETE /orders/:orderId`

**Description:** Delete a production order.

**Response (204 No Content):**
```
No content
```

### 6. Bulk Create Orders

**Endpoint:** `POST /orders/bulk-create`

**Description:** Create multiple production orders in batch.

**Request Body:**
```json
{
  "orders": [
    {
      "priority": "High",
      "articles": [...]
    },
    {
      "priority": "Medium",
      "articles": [...]
    }
  ],
  "batchSize": 50
}
```

**Note:** `orderNumber` is automatically generated for each order in the batch.

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "message": "Bulk order creation completed",
    "results": {
      "successful": 2,
      "failed": 0,
      "errors": []
    }
  }
}
```

---

## Floor Operations APIs

### 1. Get Floor Orders

**Endpoint:** `GET /floors/:floor/orders`

**Description:** Get all orders currently on a specific floor.

**Path Parameters:**
- `floor` (string): Floor name (Knitting, Linking, Checking, Washing, Boarding, Branding, Final Checking, Warehouse)

**Query Parameters:**
- `page` (number): Page number
- `limit` (number): Items per page
- `status` (string): Filter by status
- `priority` (string): Filter by priority
- `search` (string): Search term

**Example Request:**
```http
GET /floors/Knitting/orders?page=1&limit=10&status=In Progress
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "results": [
      {
        "id": "64a1b2c3d4e5f6789012346",
        "orderNumber": "PO-2024-001",
        "priority": "High",
        "status": "In Progress",
        "currentFloor": "Knitting",
        "articles": [...]
      }
    ],
    "page": 1,
    "limit": 10,
    "totalPages": 3,
    "totalResults": 25
  }
}
```

### 2. Update Article Progress

**Endpoint:** `PATCH /floors/:floor/orders/:orderId/articles/:articleId`

**Description:** Update progress of an article on a specific floor.

**Path Parameters:**
- `floor` (string): Floor name
- `orderId` (string): Order ID
- `articleId` (string): Article ID

**Request Body:**
```json
{
  "completedQuantity": 50,
  "remarks": "Half completed",
  "m1Quantity": 45,
  "m2Quantity": 3,
  "m3Quantity": 2,
  "m4Quantity": 0,
  "repairStatus": "Not Required",
  "repairRemarks": ""
}
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "id": "64a1b2c3d4e5f6789012347",
    "articleNumber": "A001",
    "completedQuantity": 50,
    "progress": 50.0,
    "m1Quantity": 45,
    "m2Quantity": 3,
    "m3Quantity": 2,
    "m4Quantity": 0,
    "remarks": "Half completed",
    "updatedAt": "2024-01-15T11:30:00.000Z"
  }
}
```

### 3. Transfer Article

**Endpoint:** `POST /floors/:floor/transfer`

**Description:** Transfer an article from current floor to next floor.

**Request Body:**
```json
{
  "orderId": "64a1b2c3d4e5f6789012346",
  "articleId": "64a1b2c3d4e5f6789012347",
  "quantity": 50,
  "remarks": "Transferred to next floor"
}
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "message": "Article transferred successfully",
    "article": {
      "id": "64a1b2c3d4e5f6789012347",
      "currentFloor": "Linking",
      "quantityFromPreviousFloor": 50,
      "updatedAt": "2024-01-15T12:00:00.000Z"
    },
    "transferLog": {
      "id": "64a1b2c3d4e5f6789012348",
      "action": "Floor Transfer",
      "fromFloor": "Knitting",
      "toFloor": "Linking",
      "quantity": 50,
      "timestamp": "2024-01-15T12:00:00.000Z"
    }
  }
}
```

### 4. Get Floor Statistics

**Endpoint:** `GET /floors/:floor/statistics`

**Description:** Get statistics for a specific floor.

**Query Parameters:**
- `dateFrom` (string): Start date (YYYY-MM-DD)
- `dateTo` (string): End date (YYYY-MM-DD)

**Example Request:**
```http
GET /floors/Knitting/statistics?dateFrom=2024-01-01&dateTo=2024-01-31
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "floor": "Knitting",
    "period": {
      "from": "2024-01-01",
      "to": "2024-01-31"
    },
    "statistics": {
      "totalOrders": 150,
      "completedOrders": 120,
      "inProgressOrders": 25,
      "onHoldOrders": 5,
      "totalArticles": 450,
      "completedArticles": 380,
      "averageProcessingTime": "2.5 days",
      "efficiency": 85.5
    },
    "dailyBreakdown": [
      {
        "date": "2024-01-01",
        "ordersProcessed": 5,
        "articlesProcessed": 15,
        "efficiency": 82.3
      }
    ]
  }
}
```

---

## Quality Control APIs

### 1. Update Quality Categories

**Endpoint:** `PATCH /floors/final-checking/quality/:articleId`

**Description:** Update quality categories for an article in final checking.

**Request Body:**
```json
{
  "m1Quantity": 45,
  "m2Quantity": 3,
  "m3Quantity": 2,
  "m4Quantity": 0,
  "repairStatus": "Not Required",
  "repairRemarks": ""
}
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "id": "64a1b2c3d4e5f6789012347",
    "m1Quantity": 45,
    "m2Quantity": 3,
    "m3Quantity": 2,
    "m4Quantity": 0,
    "repairStatus": "Not Required",
    "qualityConfirmed": false,
    "updatedAt": "2024-01-15T13:00:00.000Z"
  }
}
```

### 2. Shift M2 Items

**Endpoint:** `POST /floors/final-checking/shift-m2`

**Description:** Shift M2 items to other quality categories.

**Request Body:**
```json
{
  "articleId": "64a1b2c3d4e5f6789012347",
  "fromM2": 3,
  "toM1": 2,
  "toM3": 1,
  "toM4": 0,
  "remarks": "Reclassified after re-inspection"
}
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "message": "M2 items shifted successfully",
    "article": {
      "id": "64a1b2c3d4e5f6789012347",
      "m1Quantity": 47,
      "m2Quantity": 0,
      "m3Quantity": 3,
      "m4Quantity": 0
    },
    "shiftLogs": [
      {
        "action": "M2 Shift",
        "fromM2": 2,
        "toM1": 2,
        "timestamp": "2024-01-15T13:30:00.000Z"
      },
      {
        "action": "M2 Shift",
        "fromM2": 1,
        "toM3": 1,
        "timestamp": "2024-01-15T13:30:00.000Z"
      }
    ]
  }
}
```

### 3. Confirm Final Quality

**Endpoint:** `POST /floors/final-checking/confirm-quality`

**Description:** Confirm final quality of an article.

**Request Body:**
```json
{
  "articleId": "64a1b2c3d4e5f6789012347",
  "confirmed": true,
  "remarks": "Quality confirmed after final inspection"
}
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "message": "Final quality confirmed",
    "article": {
      "id": "64a1b2c3d4e5f6789012347",
      "qualityConfirmed": true,
      "finalQualityConfirmedAt": "2024-01-15T14:00:00.000Z"
    }
  }
}
```

### 4. Forward to Warehouse

**Endpoint:** `POST /floors/final-checking/forward-to-warehouse`

**Description:** Forward completed order to warehouse.

**Request Body:**
```json
{
  "orderId": "64a1b2c3d4e5f6789012346",
  "remarks": "All articles completed and ready for dispatch"
}
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "message": "Order forwarded to warehouse successfully",
    "order": {
      "id": "64a1b2c3d4e5f6789012346",
      "status": "Completed",
      "currentFloor": "Warehouse",
      "actualEndDate": "2024-01-15T14:30:00.000Z"
    }
  }
}
```

---

## Reports & Analytics APIs

### 1. Get Production Dashboard

**Endpoint:** `GET /dashboard`

**Description:** Get production dashboard data.

**Query Parameters:**
- `dateFrom` (string): Start date
- `dateTo` (string): End date
- `floor` (string): Filter by floor

**Example Request:**
```http
GET /dashboard?dateFrom=2024-01-01&dateTo=2024-01-31&floor=Knitting
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "summary": {
      "totalOrders": 500,
      "completedOrders": 420,
      "inProgressOrders": 60,
      "onHoldOrders": 20,
      "totalArticles": 1500,
      "completedArticles": 1280
    },
    "floorBreakdown": [
      {
        "floor": "Knitting",
        "orders": 80,
        "efficiency": 85.5,
        "averageProcessingTime": "2.5 days"
      }
    ],
    "priorityBreakdown": {
      "Urgent": 50,
      "High": 150,
      "Medium": 250,
      "Low": 50
    },
    "recentActivity": [
      {
        "orderNumber": "PO-2024-001",
        "action": "Completed",
        "floor": "Warehouse",
        "timestamp": "2024-01-15T14:30:00.000Z"
      }
    ]
  }
}
```

### 2. Get Efficiency Report

**Endpoint:** `GET /reports/efficiency`

**Description:** Get floor efficiency report.

**Query Parameters:**
- `floor` (string): Floor name
- `dateFrom` (string): Start date
- `dateTo` (string): End date

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "floor": "Knitting",
    "period": {
      "from": "2024-01-01",
      "to": "2024-01-31"
    },
    "efficiency": {
      "overall": 85.5,
      "daily": [
        {
          "date": "2024-01-01",
          "efficiency": 82.3,
          "ordersProcessed": 5
        }
      ],
      "trends": {
        "improvement": 5.2,
        "target": 90.0
      }
    }
  }
}
```

### 3. Get Quality Report

**Endpoint:** `GET /reports/quality`

**Description:** Get quality control report.

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "period": {
      "from": "2024-01-01",
      "to": "2024-01-31"
    },
    "qualityMetrics": {
      "totalInspected": 1000,
      "m1Quantity": 850,
      "m2Quantity": 100,
      "m3Quantity": 40,
      "m4Quantity": 10,
      "qualityRate": 85.0
    },
    "floorBreakdown": [
      {
        "floor": "Final Checking",
        "qualityRate": 85.0,
        "m1Rate": 85.0,
        "m2Rate": 10.0,
        "m3Rate": 4.0,
        "m4Rate": 1.0
      }
    ]
  }
}
```

### 4. Get Order Tracking Report

**Endpoint:** `GET /reports/order-tracking/:orderId`

**Description:** Get detailed tracking report for an order.

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "order": {
      "id": "64a1b2c3d4e5f6789012346",
      "orderNumber": "PO-2024-001",
      "status": "In Progress",
      "currentFloor": "Linking"
    },
    "timeline": [
      {
        "floor": "Knitting",
        "status": "Completed",
        "startTime": "2024-01-15T10:00:00.000Z",
        "endTime": "2024-01-15T12:00:00.000Z",
        "duration": "2 hours"
      },
      {
        "floor": "Linking",
        "status": "In Progress",
        "startTime": "2024-01-15T12:00:00.000Z",
        "endTime": null,
        "duration": "Ongoing"
      }
    ],
    "articles": [
      {
        "id": "64a1b2c3d4e5f6789012347",
        "articleNumber": "A001",
        "progress": 50.0,
        "currentFloor": "Linking"
      }
    ]
  }
}
```

---

## Logging & Audit APIs

### 1. Get Article Logs

**Endpoint:** `GET /logs/article/:articleId`

**Description:** Get logs for a specific article.

**Query Parameters:**
- `dateFrom` (string): Start date
- `dateTo` (string): End date
- `action` (string): Filter by action
- `limit` (number): Items per page
- `offset` (number): Offset for pagination

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "articleId": "64a1b2c3d4e5f6789012347",
    "logs": [
      {
        "id": "64a1b2c3d4e5f6789012348",
        "action": "Quantity Update",
        "details": {
          "previousQuantity": 0,
          "newQuantity": 50,
          "floor": "Knitting"
        },
        "timestamp": "2024-01-15T11:30:00.000Z",
        "userId": "64a1b2c3d4e5f6789012349"
      }
    ],
    "total": 15,
    "page": 1,
    "limit": 10
  }
}
```

### 2. Get Order Logs

**Endpoint:** `GET /logs/order/:orderId`

**Description:** Get logs for a specific order.

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "orderId": "64a1b2c3d4e5f6789012346",
    "logs": [
      {
        "id": "64a1b2c3d4e5f6789012348",
        "action": "Order Created",
        "details": {
          "orderNumber": "PO-2024-001",
          "priority": "High"
        },
        "timestamp": "2024-01-15T10:00:00.000Z",
        "userId": "64a1b2c3d4e5f6789012349"
      }
    ],
    "total": 25
  }
}
```

### 3. Get Floor Logs

**Endpoint:** `GET /logs/floor/:floor`

**Description:** Get logs for a specific floor.

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "floor": "Knitting",
    "logs": [
      {
        "id": "64a1b2c3d4e5f6789012348",
        "action": "Floor Transfer",
        "details": {
          "fromFloor": "Knitting",
          "toFloor": "Linking",
          "quantity": 50
        },
        "timestamp": "2024-01-15T12:00:00.000Z",
        "userId": "64a1b2c3d4e5f6789012349"
      }
    ],
    "total": 100
  }
}
```

### 4. Get User Logs

**Endpoint:** `GET /logs/user/:userId`

**Description:** Get logs for a specific user.

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "userId": "64a1b2c3d4e5f6789012349",
    "logs": [
      {
        "id": "64a1b2c3d4e5f6789012348",
        "action": "Quantity Update",
        "details": {
          "articleId": "64a1b2c3d4e5f6789012347",
          "floor": "Knitting"
        },
        "timestamp": "2024-01-15T11:30:00.000Z"
      }
    ],
    "total": 50
  }
}
```

### 5. Get Log Statistics

**Endpoint:** `GET /logs/statistics`

**Description:** Get log statistics and analytics.

**Query Parameters:**
- `dateFrom` (string): Start date
- `dateTo` (string): End date
- `groupBy` (string): Group by day, week, or month
- `floor` (string): Filter by floor
- `action` (string): Filter by action

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "period": {
      "from": "2024-01-01",
      "to": "2024-01-31"
    },
    "statistics": {
      "totalLogs": 5000,
      "actionBreakdown": {
        "Quantity Update": 2000,
        "Floor Transfer": 1500,
        "Quality Update": 1000,
        "Order Created": 500
      },
      "floorBreakdown": {
        "Knitting": 1200,
        "Linking": 1000,
        "Final Checking": 800
      },
      "dailyActivity": [
        {
          "date": "2024-01-01",
          "logs": 150,
          "actions": 5
        }
      ]
    }
  }
}
```

### 6. Get Audit Trail

**Endpoint:** `GET /logs/audit-trail/:orderId`

**Description:** Get complete audit trail for an order.

**Query Parameters:**
- `includeSystemLogs` (boolean): Include system logs
- `includeUserActions` (boolean): Include user actions

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "orderId": "64a1b2c3d4e5f6789012346",
    "auditTrail": [
      {
        "timestamp": "2024-01-15T10:00:00.000Z",
        "action": "Order Created",
        "userId": "64a1b2c3d4e5f6789012349",
        "details": {
          "orderNumber": "PO-2024-001",
          "priority": "High"
        },
        "type": "User Action"
      },
      {
        "timestamp": "2024-01-15T11:30:00.000Z",
        "action": "Quantity Update",
        "userId": "64a1b2c3d4e5f6789012349",
        "details": {
          "articleId": "64a1b2c3d4e5f6789012347",
          "floor": "Knitting"
        },
        "type": "User Action"
      }
    ],
    "summary": {
      "totalActions": 25,
      "userActions": 20,
      "systemActions": 5,
      "timeSpan": "4.5 hours"
    }
  }
}
```

---

## Bulk Operations APIs

### 1. Bulk Update Articles

**Endpoint:** `POST /bulk/update-articles`

**Description:** Update multiple articles in batch.

**Request Body:**
```json
{
  "updates": [
    {
      "articleId": "64a1b2c3d4e5f6789012347",
      "completedQuantity": 50,
      "remarks": "Updated in batch"
    },
    {
      "articleId": "64a1b2c3d4e5f6789012348",
      "completedQuantity": 75,
      "remarks": "Updated in batch"
    }
  ],
  "batchSize": 50
}
```

**Response (200 OK):**
```json
{
  "success": true,
  "data": {
    "message": "Bulk article update completed",
    "results": {
      "successful": 2,
      "failed": 0,
      "errors": []
    }
  }
}
```

---

## Error Handling

### Error Response Format

All errors follow this format:

```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Validation failed",
    "details": [
      {
        "field": "orderNumber",
        "message": "Order number is required"
      }
    ]
  }
}
```

### Common Error Codes

- `VALIDATION_ERROR` (400): Request validation failed
- `NOT_FOUND` (404): Resource not found
- `UNAUTHORIZED` (401): Authentication required
- `FORBIDDEN` (403): Access denied
- `CONFLICT` (409): Resource conflict
- `INTERNAL_ERROR` (500): Server error

### Example Error Responses

**Validation Error (400):**
```json
{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Validation failed",
    "details": [
      {
        "field": "priority",
        "message": "Priority must be one of: Urgent, High, Medium, Low"
      }
    ]
  }
}
```

**Not Found Error (404):**
```json
{
  "success": false,
  "error": {
    "code": "NOT_FOUND",
    "message": "Production order not found"
  }
}
```

---

## Data Models

### Production Order

```typescript
interface ProductionOrder {
  id: string;
  orderNumber: string;
  priority: 'Urgent' | 'High' | 'Medium' | 'Low';
  status: 'Pending' | 'In Progress' | 'Completed' | 'On Hold' | 'Cancelled';
  currentFloor: 'Knitting' | 'Linking' | 'Checking' | 'Washing' | 'Boarding' | 'Branding' | 'Final Checking' | 'Warehouse';
  articles: Article[];
  orderNote?: string;
  customerId?: string;
  customerName?: string;
  customerOrderNumber?: string;
  plannedStartDate?: Date;
  plannedEndDate?: Date;
  actualStartDate?: Date;
  actualEndDate?: Date;
  forwardedToBranding: boolean;
  createdAt: Date;
  updatedAt: Date;
  createdBy: string;
  lastModifiedBy: string;
}
```

### Article

```typescript
interface Article {
  id: string;
  orderId: string;
  articleNumber: string;
  plannedQuantity: number;
  completedQuantity: number;
  linkingType: 'Auto Linking' | 'Rosso Linking' | 'Hand Linking';
  priority: 'Urgent' | 'High' | 'Medium' | 'Low';
  status: 'Pending' | 'In Progress' | 'Completed' | 'On Hold' | 'Cancelled';
  progress: number;
  currentFloor: string;
  remarks?: string;
  quantityFromPreviousFloor: number;
  m1Quantity: number;
  m2Quantity: number;
  m3Quantity: number;
  m4Quantity: number;
  repairStatus: 'Not Required' | 'Required' | 'In Progress' | 'Completed';
  repairRemarks?: string;
  qualityConfirmed: boolean;
  finalQualityConfirmedAt?: Date;
  createdAt: Date;
  updatedAt: Date;
}
```

### Article Log

```typescript
interface ArticleLog {
  id: string;
  articleId: string;
  orderId: string;
  action: 'Quantity Update' | 'Floor Transfer' | 'Quality Update' | 'M2 Shift' | 'Final Quality Confirmation';
  details: Record<string, any>;
  fromFloor?: string;
  toFloor?: string;
  quantity?: number;
  userId: string;
  date: Date;
  timestamp: Date;
  createdAt: Date;
}
```

---

## Integration Examples

### Frontend Integration Example (React/JavaScript)

```javascript
// Create a new production order
const createOrder = async (orderData) => {
  try {
    const response = await fetch('/api/v1/production/orders', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`
      },
      body: JSON.stringify(orderData)
    });
    
    const result = await response.json();
    
    if (result.success) {
      console.log('Order created:', result.data);
      return result.data;
    } else {
      throw new Error(result.error.message);
    }
  } catch (error) {
    console.error('Error creating order:', error);
    throw error;
  }
};

// Get floor orders
const getFloorOrders = async (floor, filters = {}) => {
  try {
    const queryParams = new URLSearchParams(filters);
    const response = await fetch(`/api/v1/production/floors/${floor}/orders?${queryParams}`, {
      headers: {
        'Authorization': `Bearer ${token}`
      }
    });
    
    const result = await response.json();
    return result.data;
  } catch (error) {
    console.error('Error fetching floor orders:', error);
    throw error;
  }
};

// Update article progress
const updateArticleProgress = async (floor, orderId, articleId, progressData) => {
  try {
    const response = await fetch(`/api/v1/production/floors/${floor}/orders/${orderId}/articles/${articleId}`, {
      method: 'PATCH',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`
      },
      body: JSON.stringify(progressData)
    });
    
    const result = await response.json();
    return result.data;
  } catch (error) {
    console.error('Error updating article progress:', error);
    throw error;
  }
};
```

### cURL Examples

```bash
# Create a production order
curl -X POST http://localhost:3000/api/v1/production/orders \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{
    "priority": "High",
    "articles": [
      {
        "articleNumber": "A001",
        "plannedQuantity": 100,
        "linkingType": "Auto Linking",
        "priority": "High"
      }
    ],
    "customerName": "ABC Company"
  }'

# Get floor orders
curl -X GET "http://localhost:3000/api/v1/production/floors/Knitting/orders?page=1&limit=10" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"

# Update article progress
curl -X PATCH http://localhost:3000/api/v1/production/floors/Knitting/orders/ORDER_ID/articles/ARTICLE_ID \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{
    "completedQuantity": 50,
    "remarks": "Half completed"
  }'
```

---

This documentation provides comprehensive information for integrating the Production Management System APIs into your frontend application. All endpoints are fully functional and ready for use.
